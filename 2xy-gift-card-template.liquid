{% comment %}
2XY Gift Card Email Template
Replace in Shopify Admin > Settings > Notifications > Gift card created
{% endcomment %}

{{ shop.name }} {{ gift_card.initial_value | money_without_trailing_zeros }} gift card{% if gift_card.recipient and gift_card.customer %} from {% if gift_card.customer.name != blank %}{{ gift_card.customer.name }}{% elsif gift_card.customer.email != blank %}{{ gift_card.customer.email }}{% else %}{{ gift_card.customer.phone }}{% endif %}{% endif %}:

{% if gift_card.recipient %}
  {% if gift_card.customer %}
    {% if gift_card.customer.name != blank %}
      {% assign sender_name = gift_card.customer.name %}
    {% elsif gift_card.customer.email != blank %}
      {% assign sender_name = gift_card.customer.email %}
    {% else %}
      {% assign sender_name = gift_card.customer.phone %}
    {% endif %}
  {% else %}
    {% assign sender_name = shop.name %}
  {% endif %}

  {% if gift_card.recipient.nickname != blank %}
    {% assign recipient_name = gift_card.recipient.nickname %}
  {% elsif gift_card.recipient.name != blank %}
    {% assign recipient_name = gift_card.recipient.name %}
  {% else %}
    {% assign recipient_name = gift_card.recipient.email %}
  {% endif %}

  {% capture email_title %}
    Hi {{ recipient_name }}, you have received a gift card from {{ sender_name }}.
  {% endcapture %}
{% endif %}

<!DOCTYPE html>
<html lang="en">
  <head>
  <title>{{ email_title }} - 2XY Gift Card</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width">
  <link rel="stylesheet" type="text/css" href="/assets/notifications/styles.css">
  <style>
    /* 2XY Gift Card Styling */
    body { 
      background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    }
    .giftcard__body {
      background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
    }
    .container {
      background: #ffffff;
      border-radius: 16px;
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
      overflow: hidden;
    }
    .button__cell { 
      background: linear-gradient(135deg, #000000 0%, #1f2937 100%);
      border-radius: 12px;
      padding: 16px 32px;
    }
    .button__text {
      color: #ffffff !important;
      text-decoration: none;
      font-weight: 600;
      font-size: 16px;
    }
    .giftcard__title {
      color: #1e3a8a;
      font-size: 28px;
      font-weight: 700;
      text-align: center;
      margin: 20px 0;
    }
    .giftcard__balance {
      color: #059669;
      font-size: 48px;
      font-weight: 800;
      text-align: center;
      margin: 20px 0;
    }
    .giftcard__shop_name {
      color: #1e3a8a;
      font-size: 32px;
      font-weight: 800;
      text-align: center;
      margin: 10px 0 5px 0;
    }
    .giftcard__tagline {
      color: #64748b;
      font-size: 14px;
      text-align: center;
      margin: 0 0 20px 0;
    }
    .giftcard__code {
      background: linear-gradient(135deg, #f1f5f9, #e2e8f0);
      border: 2px dashed #3b82f6;
      border-radius: 12px;
      padding: 20px;
      font-family: 'Monaco', 'Menlo', monospace;
      font-size: 24px;
      font-weight: 700;
      color: #1e3a8a;
      text-align: center;
      letter-spacing: 2px;
      margin: 20px 0;
    }
    .giftcard__message {
      background: #f8fafc;
      border-left: 4px solid #3b82f6;
      padding: 20px;
      margin: 20px 0;
      font-style: italic;
      color: #374151;
      border-radius: 0 8px 8px 0;
    }
    .giftcard__smalltext {
      color: #64748b;
      font-size: 14px;
      text-align: center;
      margin: 10px 0;
    }
    .giftcard__card-container {
      background: linear-gradient(135deg, #1e3a8a, #3b82f6);
      border-radius: 16px;
      padding: 30px;
      margin: 30px auto;
      max-width: 300px;
      position: relative;
      overflow: hidden;
    }
    .giftcard__card-container::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
      transform: rotate(45deg);
      animation: shine 3s ease-in-out infinite;
    }
    @keyframes shine {
      0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
      50% { transform: translateX(100%) translateY(100%) rotate(45deg); }
      100% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
    }
    .giftcard__card-content {
      position: relative;
      z-index: 1;
      text-align: center;
      color: white;
    }
    .footer__cell {
      background: #f8fafc;
      color: #64748b;
      text-align: center;
      padding: 30px 20px;
    }
  </style>
</head>

  <body>
    <table align="center" class="body giftcard__body">
      <tr>
        <td class="empty-line">&nbsp;</td>
      </tr>
      <tr>
        <td class="empty-line">&nbsp;</td>
      </tr>
      <tr>
        <td>
          <table class="row content">
  <tr>
    <td class="content__cell">
      <center>
        <table class="container">
          <tr>
            <td>
              
            {% if gift_card.recipient %}
              
<table align="center" class="giftcard__doubletopmargin">
  <tr>
    <td class="giftcard__shop_name">2XY</td>
  </tr>
  <tr>
    <td class="giftcard__tagline">Where Style Meets Comfort</td>
  </tr>
</table>

  <table align="center" class="row giftcard__topmargin">
    <tr>
      <td class="giftcard__title">{{ email_title }}</td>
    </tr>
  </table>

{% if gift_card.recipient and gift_card.message != blank %}
  <table align="center" class="row giftcard__topmargin">
    <tr>
      <td class="giftcard__message">
        "{{ gift_card.message }}"
      </td>
    </tr>
  </table>
{% endif %}

<table align="center" class="giftcard__topmargin">
  <tr>
    <td class="giftcard__balance">{{ gift_card.initial_value | money_with_currency }}</td>
  </tr>
  {% if gift_card.expires_on %}
    <tr>
      <td class="giftcard__smalltext">
        Expires {{ gift_card.expires_on | date: '%B %e, %Y' }}
      </td>
    </tr>
  {% endif %}
</table>

<table align="center" class="giftcard__doubletopmargin">
  <tr>
    <td>
      <div class="giftcard__card-container">
        <div class="giftcard__card-content">
          <h3 style="margin: 0; font-size: 24px;">2XY Gift Card</h3>
          <p style="margin: 10px 0; font-size: 14px; opacity: 0.9;">Premium Sneaker Collection</p>
          <div style="background: rgba(255,255,255,0.2); border-radius: 8px; padding: 15px; margin: 20px 0;">
            <p style="margin: 0; font-size: 32px; font-weight: 700;">{{ gift_card.initial_value | money_without_trailing_zeros }}</p>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

<table align="center" class="row giftcard__topmargin">
  <tr>
    <td class="giftcard__smalltext">
      Use this gift card code at checkout
    </td>
  </tr>
  <tr>
    <td class="giftcard__code">
      {{ gift_card.code | format_code }}
    </td>
  </tr>
</table>

<table class="row actions">
  <tr>
    <td class="actions__cell">
      <table align="center" class="button">
        <tr>
          <td class="button__cell"><a href="{{ shop.url }}" class="button__text">Shop 2XY Collection</a></td>
        </tr>
      </table>
      <table align="center" class="button">
        <tr>
          <td class="link__cell"><a href="{{ gift_card.url }}" class="link__text">Check Gift Card Balance</a></td>
        </tr>
      </table>
    </td>
  </tr>
</table>

{% if gift_card.pass_url %}
  <table align="center" class="row">
    <tr>
      <td class="giftcard__textcenter">
        <a href="{{ gift_card.pass_url }}" class="apple-wallet-button">
          <img src="{{ 'gift-card/add-to-apple-wallet.png' | shopify_asset_url }}" alt="Add to Apple Wallet" width="120" height="40">
        </a>
      </td>
    </tr>
  </table>
{% endif %}

            {% else %}
              
<table align="center" class="giftcard__doubletopmargin">
  <tr>
    <td class="giftcard__shop_name">2XY</td>
  </tr>
  <tr>
    <td class="giftcard__tagline">Where Style Meets Comfort</td>
  </tr>
</table>

{% if gift_card.recipient and gift_card.message != blank %}
  <table align="center" class="row giftcard__topmargin">
    <tr>
      <td class="giftcard__message">
        "{{ gift_card.message }}"
      </td>
    </tr>
  </table>
{% endif %}

<table align="center" class="giftcard__topmargin">
  <tr>
    <td class="giftcard__balance">{{ gift_card.initial_value | money_with_currency }}</td>
  </tr>
  {% if gift_card.expires_on %}
    <tr>
      <td class="giftcard__smalltext">
        Expires {{ gift_card.expires_on | date: '%B %e, %Y' }}
      </td>
    </tr>
  {% endif %}
</table>

<table align="center" class="giftcard__doubletopmargin">
  <tr>
    <td>
      <div class="giftcard__card-container">
        <div class="giftcard__card-content">
          <h3 style="margin: 0; font-size: 24px;">2XY Gift Card</h3>
          <p style="margin: 10px 0; font-size: 14px; opacity: 0.9;">Premium Sneaker Collection</p>
          <div style="background: rgba(255,255,255,0.2); border-radius: 8px; padding: 15px; margin: 20px 0;">
            <p style="margin: 0; font-size: 32px; font-weight: 700;">{{ gift_card.initial_value | money_without_trailing_zeros }}</p>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

<table align="center" class="row giftcard__topmargin">
  <tr>
    <td class="giftcard__smalltext">
      Use this gift card code at checkout
    </td>
  </tr>
  <tr>
    <td class="giftcard__code">
      {{ gift_card.code | format_code }}
    </td>
  </tr>
</table>

<table class="row actions">
  <tr>
    <td class="actions__cell">
      <table align="center" class="button">
        <tr>
          <td class="button__cell"><a href="{{ shop.url }}" class="button__text">Shop 2XY Collection</a></td>
        </tr>
      </table>
      <table align="center" class="button">
        <tr>
          <td class="link__cell"><a href="{{ gift_card.url }}" class="link__text">Check Gift Card Balance</a></td>
        </tr>
      </table>
    </td>
  </tr>
</table>

{% if gift_card.pass_url %}
  <table align="center" class="row">
    <tr>
      <td class="giftcard__textcenter">
        <a href="{{ gift_card.pass_url }}" class="apple-wallet-button">
          <img src="{{ 'gift-card/add-to-apple-wallet.png' | shopify_asset_url }}" alt="Add to Apple Wallet" width="120" height="40">
        </a>
      </td>
    </tr>
  </table>
{% endif %}

            {% endif %}

            </td>
          </tr>
        </table>
      </center>
    </td>
  </tr>
</table>
          <table class="row footer">
  <tr>
    <td class="footer__cell">
      <center>
        <table class="container">
          <tr>
            <td>
              <h3 style="color: #1e3a8a; margin: 0 0 10px 0;">2XY - Where Style Meets Comfort</h3>
              <p class="disclaimer__subtext" style="margin: 0 0 15px 0;">
                Questions? Reply to this email or contact us at 
                <a href="mailto:{{ shop.email }}" style="color: #3b82f6;">{{ shop.email }}</a>
              </p>
              <p style="font-size: 12px; color: #64748b; margin: 0;">
                Follow us: 
                <a href="#" style="color: #3b82f6; text-decoration: none;">Instagram</a> | 
                <a href="#" style="color: #3b82f6; text-decoration: none;">Twitter</a> | 
                <a href="#" style="color: #3b82f6; text-decoration: none;">TikTok</a>
              </p>
            </td>
          </tr>
        </table>
      </center>
    </td>
  </tr>
</table>

<img src="{{ 'notifications/spacer.png' | shopify_asset_url }}" class="spacer" height="1" />

        </td>
      </tr>
    </table>
  </body>
</html>